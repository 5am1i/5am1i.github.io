<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="我来看看效果"><title>AndroidManifest.xml的安全问题 | Samli</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">AndroidManifest.xml的安全问题</h1><a id="logo" href="/.">Samli</a><p class="description">个人博客分享</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">AndroidManifest.xml的安全问题</h1><div class="post-meta">Apr 28, 2018<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><h1 id="AndroidManifest-xml的安全问题"><a href="#AndroidManifest-xml的安全问题" class="headerlink" title="AndroidManifest.xml的安全问题"></a>AndroidManifest.xml的安全问题</h1><h2 id="0x00-关于AndroidManifest-xml"><a href="#0x00-关于AndroidManifest-xml" class="headerlink" title="0x00 关于AndroidManifest.xml"></a>0x00 关于AndroidManifest.xml</h2><p>AndroidManifest.xml 是每个android程序中必须的文件。它位于整个项目的根目录，Manifest文件提供有关应用程序到Android系统的基本信息，系统必须具有该信息才能运行任何应用程序的代码。换句话说APP是跑在Android系统上，既然要跑在其上，就必须提供信息给Android System，这些信息就存在AndroidManifest中。AndroidManifest.xml 存放在 app/src/main/ 目录下。在反编译APK文件后，其文件是以乱码格式存在，需要进行转换才能正常查看。</p>
<h4 id="AndroidManifest-xml的主要功能"><a href="#AndroidManifest-xml的主要功能" class="headerlink" title="AndroidManifest.xml的主要功能"></a>AndroidManifest.xml的主要功能</h4><blockquote>
<ol>
<li>命名应用程序Java包，软件包名称作为应用程序的唯一标识符;</li>
<li>描述了应用程序的组件，其中包括构成应用程序的Activity，Service，Broadcast Receiver和Content Provider；它还命名实现每个组件并发布其功能的类，例如Intent可以处理的消息。这些声明通知Android系统的组件及其可以启动的条件;</li>
<li>决定哪些processes主持application;</li>
<li>宣告这个App有哪些权限，它声明应用程序必须拥有的权限才能访问API的受保护部分并与其他应用程序交互。它还声明其他人为了与应用程序的组件交互而需要的权限;<br>5.它列出了Instrumentation在应用程序运行时提供概要分析和其他信息的类。这些声明仅在应用程序正在开发中才会存在，并在应用程序发布之前被删除;<br>6.它声明了应用程序需要的最低级别的Android API;<br>7.它列出了应用程序必须链接的库。</li>
</ol>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span> standalone=<span class="string">"no"</span><span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> <span class="attr">package</span>=<span class="string">"com.mwr.example.sieve"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.READ_EXTERNAL_STORAGE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.INTERNET"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">permission</span> <span class="attr">android:label</span>=<span class="string">"Allows reading of the Key in Sieve"</span> <span class="attr">android:name</span>=<span class="string">"com.mwr.example.sieve.READ_KEYS"</span> <span class="attr">android:protectionLevel</span>=<span class="string">"dangerous"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">permission</span> <span class="attr">android:label</span>=<span class="string">"Allows editing of the Key in Sieve"</span> <span class="attr">android:name</span>=<span class="string">"com.mwr.example.sieve.WRITE_KEYS"</span> <span class="attr">android:protectionLevel</span>=<span class="string">"dangerous"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span> <span class="attr">android:allowBackup</span>=<span class="string">"true"</span> <span class="attr">android:debuggable</span>=<span class="string">"true"</span> <span class="attr">android:icon</span>=<span class="string">"@drawable/ic_launcher"</span> <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span> <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">"true"</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:exported</span>=<span class="string">"true"</span> <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/title_activity_file_select"</span> <span class="attr">android:name</span>=<span class="string">".FileSelectActivity"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span> <span class="attr">android:launchMode</span>=<span class="string">"singleTask"</span> <span class="attr">android:name</span>=<span class="string">".MainLoginActivity"</span> <span class="attr">android:windowSoftInputMode</span>=<span class="string">"adjustResize|stateVisible"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">"true"</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:exported</span>=<span class="string">"true"</span> <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/title_activity_pwlist"</span> <span class="attr">android:name</span>=<span class="string">".PWList"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">"true"</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/title_activity_settings"</span> <span class="attr">android:name</span>=<span class="string">".SettingsActivity"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">"true"</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/title_activity_add_entry"</span> <span class="attr">android:name</span>=<span class="string">".AddEntryActivity"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">"true"</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/title_activity_short_login"</span> <span class="attr">android:name</span>=<span class="string">".ShortLoginActivity"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">"true"</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/title_activity_welcome"</span> <span class="attr">android:name</span>=<span class="string">".WelcomeActivity"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">"true"</span> <span class="attr">android:excludeFromRecents</span>=<span class="string">"true"</span> <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">"true"</span> <span class="attr">android:label</span>=<span class="string">"@string/title_activity_pin"</span> <span class="attr">android:name</span>=<span class="string">".PINActivity"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">service</span> <span class="attr">android:exported</span>=<span class="string">"true"</span> <span class="attr">android:name</span>=<span class="string">".AuthService"</span> <span class="attr">android:process</span>=<span class="string">":remote"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">service</span> <span class="attr">android:exported</span>=<span class="string">"true"</span> <span class="attr">android:name</span>=<span class="string">".CryptoService"</span> <span class="attr">android:process</span>=<span class="string">":remote"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">provider</span> <span class="attr">android:authorities</span>=<span class="string">"com.mwr.example.sieve.DBContentProvider"</span> <span class="attr">android:exported</span>=<span class="string">"true"</span> <span class="attr">android:multiprocess</span>=<span class="string">"true"</span> <span class="attr">android:name</span>=<span class="string">".DBContentProvider"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path-permission</span> <span class="attr">android:path</span>=<span class="string">"/Keys"</span> <span class="attr">android:readPermission</span>=<span class="string">"com.mwr.example.sieve.READ_KEYS"</span> <span class="attr">android:writePermission</span>=<span class="string">"com.mwr.example.sieve.WRITE_KEYS"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">provider</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">provider</span> <span class="attr">android:authorities</span>=<span class="string">"com.mwr.example.sieve.FileBackupProvider"</span> <span class="attr">android:exported</span>=<span class="string">"true"</span> <span class="attr">android:multiprocess</span>=<span class="string">"true"</span> <span class="attr">android:name</span>=<span class="string">".FileBackupProvider"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="0x01-AndroidManifest-xml风险点分析"><a href="#0x01-AndroidManifest-xml风险点分析" class="headerlink" title="0x01 AndroidManifest.xml风险点分析"></a>0x01 AndroidManifest.xml风险点分析</h2><h3 id="1、allowBackup设置风险"><a href="#1、allowBackup设置风险" class="headerlink" title="1、allowBackup设置风险"></a>1、allowBackup设置风险</h3><p>Android API Level 8 （Android 2.1）及其以上Android系统提供了为应用程序数据的备份和恢复功能，此功能的开关决定于该应用程序中 AndroidManifest.xml 文件中的 allowBackup 属性值，其属性值默认是 true。当allowBackup的属性值没有显示设置为false时，攻击者可通过 adb backup 和 adb restore 来进行对应用数据的备份和恢复，从而可能获取明文存储的用户的敏感信息。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:allowBackup=[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br></pre></td></tr></table></figure></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ adb backup -nosystem -noshared -apk -f com<span class="selector-class">.example</span><span class="selector-class">.demo</span></span><br><span class="line">$ adb restore com<span class="selector-class">.example</span><span class="selector-class">.demo</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>-nosystem表示不备份系统应用</li>
<li>-noshared表示不备份应用存储在SD中的数据</li>
<li>-apk表示备份应用APK安装包</li>
<li>-f表示备份的.ab文件路径和文件名，最后是要备份应用的packageName</li>
<li>restore是恢复备份的数据</li>
</ul>
</blockquote>
<h3 id="2、debuggable设置风险"><a href="#2、debuggable设置风险" class="headerlink" title="2、debuggable设置风险"></a>2、debuggable设置风险</h3><p>该属性用于指定应用程序是否能够被调试，即使是以用户模式运行在设备上的时候，如果设置为true，则可以被调试；但是现在Android版本均默认debuggable的属性值为false，所以建议使用默认配置。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:debuggable=[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br></pre></td></tr></table></figure></p>
<h3 id="3、组件导出风险"><a href="#3、组件导出风险" class="headerlink" title="3、组件导出风险"></a>3、组件导出风险</h3><h4 id="四大组件"><a href="#四大组件" class="headerlink" title="四大组件"></a>四大组件</h4><blockquote>
<ul>
<li>Activity</li>
<li>Broadcast Receive</li>
<li>Service</li>
<li>Content Provider</li>
</ul>
</blockquote>
<p>可导出的组件能被第三方APP任意调用，导致敏感信息泄露，并可能被利用于绕过认证、恶意代码注入、sql注入、拒绝服务等攻击；</p>
<h4 id="Activity中exported的默认值"><a href="#Activity中exported的默认值" class="headerlink" title="Activity中exported的默认值"></a>Activity中exported的默认值</h4><ol>
<li>没有intent filter时，默认为false</li>
<li>有intent filter时，默认为true</li>
</ol>
<p>而intent filter标签代表是主Activity，而每个APP都会有一个主Activity，所以当应用的Activity不必要导出时，或者配置了intent filter标签，建议显示设置android:exported=”false”。如果组件必须要导出给其他应用使用，建议对组件进行权限控制。</p>
<h4 id="Broadcast-Receive和Service的默认值都跟Activity的一样。"><a href="#Broadcast-Receive和Service的默认值都跟Activity的一样。" class="headerlink" title="Broadcast Receive和Service的默认值都跟Activity的一样。"></a>Broadcast Receive和Service的默认值都跟Activity的一样。</h4><h4 id="Content-Provider中exported的默认值"><a href="#Content-Provider中exported的默认值" class="headerlink" title="Content Provider中exported的默认值"></a>Content Provider中exported的默认值</h4><ol>
<li>当minSdkVersion或者targetSdkVersion小于16时，默认为true</li>
<li>大于17时，默认为false</li>
</ol>
<h3 id="4、自定义权限风险"><a href="#4、自定义权限风险" class="headerlink" title="4、自定义权限风险"></a>4、自定义权限风险</h3><p>在Android系统的安全模型中，应用程序在默认的情况下不可以执行任何对其他应用程序、系统或用户带来负面影响的操作。如果应用需要执行某些操作，就需要声明使用这个操作对应的权限，也就是在AndroidManifest.xml文件中添加<uses-permission>标记,当然也可以自定义属于自己的permission。但是如果权限控制不当，那么就可能导致各种越权等安全问题。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.INTERNET"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">permission</span> <span class="attr">android:label</span>=<span class="string">"Allows reading of the Key in Sieve"</span> <span class="attr">android:name</span>=<span class="string">"com.mwr.example.sieve.READ_KEYS"</span> <span class="attr">android:protectionLevel</span>=<span class="string">"dangerous"</span>/&gt;</span></span><br></pre></td></tr></table></figure></uses-permission></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:protectionLevel=[<span class="string">"normal"</span> | <span class="string">"dangerous"</span> | <span class="string">"signature"</span> | <span class="string">"signatureOrSystem"</span>]</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>normal</strong>：这是最低风险的权限，如果应用声明了此权限，系统直接默认该应用有此权限,也不会提示安装应用的用户授权；</li>
<li><strong>dangerous</strong>：系统在安装此类权限声明的应用时会提示用户，但是所有APP都能访问和共享此权限；</li>
<li><strong>signature</strong>：这种权限级别叫做高级权限或者系统权限，只有当发请求的应用和接收此请求的应用使用同一签名文件，并且声明了该权限才会授权，并且是默认授权，不会提示用户授权</li>
<li><strong>signatureOrSystem</strong>：这种权限应该尽量避免使用，偏向系统级</li>
</ol>
<h2 id="0x02-AndroidManifest-xml结构"><a href="#0x02-AndroidManifest-xml结构" class="headerlink" title="0x02 AndroidManifest.xml结构"></a>0x02 AndroidManifest.xml结构</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xmlversion=<span class="string">"1.0"</span>encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">activity</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">action</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">category</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">activity-alias</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span><span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">meta-data</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">activity-alias</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">service</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span><span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">meta-data</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">receiver</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span><span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">meta-data</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">receiver</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">provider</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">grant-uri-permission</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">meta-data</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">provider</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">uses-library</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">permission</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">permission-tree</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">permission-group</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">instrumentation</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-sdk</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-configuration</span>/&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-feature</span>/&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">supports-screens</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="0x03-AndroidManifest-xml分节介绍"><a href="#0x03-AndroidManifest-xml分节介绍" class="headerlink" title="0x03 AndroidManifest.xml分节介绍"></a>0x03 AndroidManifest.xml分节介绍</h2><h4 id="1、manifest"><a href="#1、manifest" class="headerlink" title="1、manifest"></a>1、manifest</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">manifest</span>  <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">package</span>=<span class="string">"com.woody.test"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:sharedUserId</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:sharedUserLabel</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:versionCode</span>=<span class="string">"integer"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:versionName</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:installLocation</span>=<span class="string">[</span>"<span class="attr">auto</span>" | "<span class="attr">internalOnly</span>" | "<span class="attr">preferExternal</span>"] &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2、application"><a href="#2、application" class="headerlink" title="2、application"></a>2、application</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span>  <span class="attr">android:allowClearUserData</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:allowTaskReparenting</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:backupAgent</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:debuggable</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:description</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:enabled</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:hasCode</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:killAfterRestore</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:label</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:manageSpaceActivity</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:permission</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:persistent</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:process</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:restoreAnyVersion</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">             <span class="attr">android:taskAffinity</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">android:theme</span>=<span class="string">"resource or theme"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3、activity"><a href="#3、activity" class="headerlink" title="3、activity"></a>3、activity</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:allowTaskReparenting</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:alwaysRetainTaskState</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:clearTaskOnLaunch</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:configChanges</span>=<span class="string">[</span>"<span class="attr">mcc</span>", "<span class="attr">mnc</span>", "<span class="attr">locale</span>",</span></span><br><span class="line"><span class="tag">                                 "<span class="attr">touchscreen</span>", "<span class="attr">keyboard</span>", "<span class="attr">keyboardHidden</span>",</span></span><br><span class="line"><span class="tag">                                 "<span class="attr">navigation</span>", "<span class="attr">orientation</span>", "<span class="attr">screenLayout</span>",</span></span><br><span class="line"><span class="tag">                                 "<span class="attr">fontScale</span>", "<span class="attr">uiMode</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:enabled</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:excludeFromRecents</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:exported</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:finishOnTaskLaunch</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:label</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:launchMode</span>=<span class="string">[</span>"<span class="attr">multiple</span>" | "<span class="attr">singleTop</span>" |</span></span><br><span class="line"><span class="tag">                              "<span class="attr">singleTask</span>" | "<span class="attr">singleInstance</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:multiprocess</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:noHistory</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"] </span></span><br><span class="line"><span class="tag">          <span class="attr">android:permission</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:process</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:screenOrientation</span>=<span class="string">[</span>"<span class="attr">unspecified</span>" | "<span class="attr">user</span>" | "<span class="attr">behind</span>" |</span></span><br><span class="line"><span class="tag">                                     "<span class="attr">landscape</span>" | "<span class="attr">portrait</span>" |</span></span><br><span class="line"><span class="tag">                                     "<span class="attr">sensor</span>" | "<span class="attr">nosensor</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:stateNotNeeded</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">          <span class="attr">android:taskAffinity</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:theme</span>=<span class="string">"resource or theme"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:windowSoftInputMode</span>=<span class="string">[</span>"<span class="attr">stateUnspecified</span>",</span></span><br><span class="line"><span class="tag">                                       "<span class="attr">stateUnchanged</span>", "<span class="attr">stateHidden</span>",</span></span><br><span class="line"><span class="tag">                                       "<span class="attr">stateAlwaysHidden</span>", "<span class="attr">stateVisible</span>",</span></span><br><span class="line"><span class="tag">                                       "<span class="attr">stateAlwaysVisible</span>", "<span class="attr">adjustUnspecified</span>",</span></span><br><span class="line"><span class="tag">                                       "<span class="attr">adjustResize</span>", "<span class="attr">adjustPan</span>"] &gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="4、intent-filter"><a href="#4、intent-filter" class="headerlink" title="4、intent-filter"></a>4、intent-filter</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">intent-filter</span>  <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:label</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:priority</span>=<span class="string">"integer"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">action</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">category</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">data</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="5、meta-data"><a href="#5、meta-data" class="headerlink" title="5、meta-data"></a>5、meta-data</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta-data</span> <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:resource</span>=<span class="string">"resource specification"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:value</span>=<span class="string">"string"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="6、activity-alias"><a href="#6、activity-alias" class="headerlink" title="6、activity-alias"></a>6、activity-alias</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity-alias</span> <span class="attr">android:enabled</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                <span class="attr">android:exported</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:label</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:permission</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:targetActivity</span>=<span class="string">"string"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">intent-filter</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta-data</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity-alias</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="7、service"><a href="#7、service" class="headerlink" title="7、service"></a>7、service</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">service</span> <span class="attr">android:enabled</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">         <span class="attr">android:exported</span>[=<span class="string">"true"</span> | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">         <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">         <span class="attr">android:label</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">         <span class="attr">android:permission</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">         <span class="attr">android:process</span>=<span class="string">"string"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="8、receiver"><a href="#8、receiver" class="headerlink" title="8、receiver"></a>8、receiver</h4><h4 id="9、provider"><a href="#9、provider" class="headerlink" title="9、provider"></a>9、provider</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">provider</span> <span class="attr">android:authorities</span>=<span class="string">"list"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:enabled</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:exported</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:grantUriPermissions</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:initOrder</span>=<span class="string">"integer"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:label</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:multiprocess</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:permission</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:process</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:readPermission</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:syncable</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">          <span class="attr">android:writePermission</span>=<span class="string">"string"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">           <span class="tag">&lt;<span class="name">grant-uri-permission</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">           <span class="tag">&lt;<span class="name">meta-data</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">provider</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="10、uses-library"><a href="#10、uses-library" class="headerlink" title="10、uses-library"></a>10、uses-library</h4><h4 id="11、supports-screens"><a href="#11、supports-screens" class="headerlink" title="11、supports-screens"></a>11、supports-screens</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">supports-screens</span>  <span class="attr">android:smallScreens</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                  <span class="attr">android:normalScreens</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                  <span class="attr">android:largeScreens</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                  <span class="attr">android:anyDensity</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"] /&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="12、uses-configuration和uses-feature"><a href="#12、uses-configuration和uses-feature" class="headerlink" title="12、uses-configuration和uses-feature"></a>12、uses-configuration和uses-feature</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-configuration</span>  <span class="attr">android:reqFiveWayNav</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                    <span class="attr">android:reqHardKeyboard</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                    <span class="attr">android:reqKeyboardType</span>=<span class="string">[</span>"<span class="attr">undefined</span>" | "<span class="attr">nokeys</span>" | "<span class="attr">qwerty</span>" |   "<span class="attr">twelvekey</span>"]</span></span><br><span class="line"><span class="tag">                    <span class="attr">android:reqNavigation</span>=<span class="string">[</span>"<span class="attr">undefined</span>" | "<span class="attr">nonav</span>" | "<span class="attr">dpad</span>" |  "<span class="attr">trackball</span>" | "<span class="attr">wheel</span>"]</span></span><br><span class="line"><span class="tag">                    <span class="attr">android:reqTouchScreen</span>=<span class="string">[</span>"<span class="attr">undefined</span>" | "<span class="attr">notouch</span>" | "<span class="attr">stylus</span>" | "<span class="attr">finger</span>"] /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-feature</span> <span class="attr">android:glEsVersion</span>=<span class="string">"integer"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:required</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"] /&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="13、uses-sdk"><a href="#13、uses-sdk" class="headerlink" title="13、uses-sdk"></a>13、uses-sdk</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-sdk</span> <span class="attr">android:minSdkVersion</span>=<span class="string">"integer"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:targetSdkVersion</span>=<span class="string">"integer"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:maxSdkVersion</span>=<span class="string">"integer"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="14、instrumentation"><a href="#14、instrumentation" class="headerlink" title="14、instrumentation"></a>14、instrumentation</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">instrumentation</span> <span class="attr">android:functionalTest</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                 <span class="attr">android:handleProfiling</span>=<span class="string">[</span>"<span class="attr">true</span>" | "<span class="attr">false</span>"]</span></span><br><span class="line"><span class="tag">                 <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:label</span>=<span class="string">"string resource"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:name</span>=<span class="string">"string"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:targetPackage</span>=<span class="string">"string"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="15、、、、区别"><a href="#15、、、、区别" class="headerlink" title="15、、、、区别"></a>15、<permission>、<uses-permission>、<permission-tree>、<permission-group>区别</permission-group></permission-tree></uses-permission></permission></h4><p>最常用的当属<uses-permission>，当我们需要获取某个权限的时候就必须在我们的manifest文件中声明，此<uses-permission>与<application>同级，具体权限列表请看此处</application></uses-permission></uses-permission></p>
<p>通常情况下我们不需要为自己的应用程序声明某个权限，除非你提供了供其他应用程序调用的代码或者数据。这个时候你才需要使用<permission> 这个标签。很显然这个标签可以让我们声明自己的权限。比如：</permission></p>
<permission android:name="com.teleca.project.MY_SECURITY" .="">

<p>那么在activity中就可以声明该自定义权限了，如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span> <span class="attr">.</span> <span class="attr">.</span> <span class="attr">.</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">"XXX"</span> <span class="attr">.</span> <span class="attr">.</span> <span class="attr">.</span> &gt;</span></span><br><span class="line">                  android:permission="com.teleca.project.MY_SECURITY"&gt; <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>当然自己声明的permission也不能随意的使用，还是需要使用<uses-permission>来声明你需要该权限<permission-group> 就是声明一个标签，该标签代表了一组permissions，而<permission-tree>是为一组permissions声明了一个namespace。这两个标签可以看之前的系列文章。</permission-tree></permission-group></uses-permission></p>
</permission></div><iframe src="/donate/?AliPayQR=undefined&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/Android/">Android</a></div><div class="post-nav"><a class="pre" href="/2018/04/28/动态分析-AndroidStudio调试-IDA-我来了/">动态分析-AndroidStudio调试+IDA 我来了</a><a class="next" href="/2018/04/28/阿里Android开发手册-安全/">阿里Android开发手册-安全</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="https://5am1i.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/SRC/" style="font-size: 15px;">SRC</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/12/常见问题修复建议/">常见问题修复建议</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/01/信息搜集之搜索引擎/">信息搜集之搜索引擎</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/01/常用端口速查/">常用端口速查</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/28/动态分析-Eclipse调试/">动态分析-Eclipse调试</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/28/动态分析-AndroidStudio调试-IDA-我来了/">动态分析-AndroidStudio调试+IDA 我来了</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/28/AndroidManifest-xml的安全问题/">AndroidManifest.xml的安全问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/28/阿里Android开发手册-安全/">阿里Android开发手册-安全</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/20/SRC怎么玩/">SRC怎么玩</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/19/Android去广告/">Android去广告</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/13/Android平台WebView控件存在跨域访问高危漏洞/">Android平台WebView控件存在跨域访问高危漏洞</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://init1.in/" title="这个友联需要用谷歌浏览器打开" target="_blank">这个友联需要用谷歌浏览器打开</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">Samli.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>